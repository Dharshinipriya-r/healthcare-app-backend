<div class="history">
    <h2>Patient History</h2>
  
    <form [formGroup]="filterForm" (ngSubmit)="load()" class="filters">
      <label>Patient ID (optional)<input type="number" formControlName="patientId" /></label>
      <button type="submit">Load</button>
    </form>
  
    <div *ngFor="let h of items" class="card">
      <div>
        <strong>{{ h.appointmentId }}--{{ h.patientName }}</strong> {{ h.appointmentDateTime | date:'yyyy-MM-dd hh:mm a' }} â€” COMPLETED <br>
        <div *ngIf="h.consultationNote"><em>Diagnosis:</em> {{ h.consultationNote.diagnosis }} | <em>Prescription:</em> {{ h.consultationNote.prescription }}</div>
      </div>
    
    </div>
  <h3>Add Consultation Note (Completed appointments)</h3>
    <form [formGroup]="noteForm" (ngSubmit)="addNote()" class="note-form">
      <input type="number" formControlName="appointmentId" placeholder="Appointment ID" />
      <input type="text" formControlName="diagnosis" placeholder="Diagnosis" />
      <input type="text" formControlName="prescription" placeholder="Prescription" />
     
      <button type="submit">Add Note</button>
    </form>
  </div>